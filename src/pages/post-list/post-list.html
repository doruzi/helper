<ion-header>
  <ion-navbar>
    <ion-title>Post List</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>

    <ion-list>
        <ion-card  *ngFor=" let post of posts; let i = index; " >
            <div class="avatar">
                <img src="{{post.image}}"/>
            </div>
            <ion-card-content no-padding>
                <div>
                    <ion-card-title>
                        {{ post.post_title }}
                    </ion-card-title>
                    <p>
                        {{ post.post_content }}
                    </p>
                    <ion-note item-right>{{ post.post_date  }}</ion-note>
                </div>
                <div *ngIf="moreButton[i]">
                    <ion-item-group text-wrap>
                        <ion-item-divider light>
                            <h2>Personal Information</h2>
                            <!--button ion-button clear small no-padding item-right>
                                <ion-icon name='share-alt'></ion-icon>
                                Share
                            </button-->
                        </ion-item-divider>
                        <ion-item><ion-label>Name : {{ post.meta.first_name }} {{ post.meta.middle_name }} {{ post.meta.last_name }}</ion-label></ion-item>
                        <ion-item><ion-label>Gender : {{ post.meta.gender }}</ion-label></ion-item>
                        <ion-item><ion-label>Age : {{ post.meta.birthday | ageCalculator }}</ion-label></ion-item>
                        <ion-item><ion-label>Mobile # : {{ post.meta.mobile }}</ion-label></ion-item>
                        <ion-item><ion-label>Address : {{ post.meta.address }}</ion-label></ion-item>
                    </ion-item-group>
                </div>
            </ion-card-content>
            <ion-row no-padding>
                <ion-col>
                    <button ion-button clear small no-padding (click)="moreButton[i] = !moreButton[i]" *ngIf="!moreButton[i]">
                        <ion-icon name='arrow-dropdown-circle'></ion-icon>
                        &nbsp; More
                    </button>
                    <button ion-button clear small no-padding (click)="moreButton[i] = !moreButton[i]" *ngIf="moreButton[i]">
                        <ion-icon name='arrow-dropup-circle'></ion-icon>
                        &nbsp; Less
                    </button>
                </ion-col>
                <!--ion-col>
                    <button ion-button clear small no-padding>
                        <ion-icon name='quote'></ion-icon>
                        Comment
                    </button>
                </ion-col-->
                <ion-col>
                    <button ion-button clear small no-padding (click)="onClickEdit(post.ID)">
                        <ion-icon name='open'></ion-icon>
                        &nbsp; Edit
                    </button>
                </ion-col>
                <ion-col>
                    <button ion-button clear small no-padding (click)="onClickDelete(post.ID , i)">
                        <ion-icon name='trash'></ion-icon>
                        &nbsp; Delete
                    </button>
                </ion-col>
            </ion-row>
        </ion-card>
    </ion-list>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
  
</ion-content>
